<!-- templates/settings.html -->

<!DOCTYPE html>
{% load static %}
  {% csrf_token %}
<html>
<head>
    <title>Configuraciones</title>
     <!--Bootstrap-->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    
     <!--datatables-->
     <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
     <!--Font Awesome-->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 
     <!--Custom CSS-->
     <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}">   
    
    <!-- Agrega los enlaces a tus archivos CSS y JS aquí -->
</head>
<body>
    <h3>Configuraciones</h3>

    <!-- Mostrar formulario para crear una configuración -->
   
    <form method="post" action="{% url 'dtesv:settings_create' %}">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value="Nuevo">
    </form>

    <!-- Mostrar la lista de configuraciones existentes -->
   
    <table class="table">
        <thead>
            <tr>
                <th>URL Firmador</th>
                <th>URL Autenticación</th>
                <th>URL DTE</th>
                <th>Contingencia por defecto</th>
                <th>Intervalo de ejecución</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for setting in settings %}
            <tr>
                <td>{{ setting.url_firmador }}</td>
                <td>{{ setting.url_autentication }}</td>
                <td>{{ setting.url_dte }}</td>
                <td>{{ setting.contigencia_defaul }}</td>
                <td>{{ setting.interval_ejecute }}</td>
                <td>
                    <a href="{% url 'dtesv:settings_edit' setting.id %}">Editar</a>
                    <a href="{% url 'dtesv:settings_delete' setting.id %}">Eliminar</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

     

      <!--Bootstrap-->
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.4/dist/umd/popper.min.js" integrity="sha384-3aMcLlXu9idcUu79mBo0dvg6F1XysS/qzqB8vTklEw9ZyCpog44JoXN3STesWTja" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
      <!--Jquery-->
      <script src=" https://code.jquery.com/jquery-3.5.1.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
       
      <!--datatables-->
      <script src=" https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
      <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
      <!--JavaScrip-->
      <script src="{% static 'js/documentos.js' %}"></script>
</body>
</html>
